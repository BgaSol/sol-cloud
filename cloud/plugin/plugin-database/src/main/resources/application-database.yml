spring:
  flyway:
    enabled: true
    locations: classpath:db/${spring.application.name}
    baseline-on-migrate: true
  datasource:
    dynamic:
      enabled: true #启用动态数据源，默认true
      primary: postgresMaster_1 #设置默认的数据源或者数据源组,默认值即为master
      strict: false #严格匹配数据源,默认false. true未匹配到指定数据源时抛异常,false使用默认数据源
      grace-destroy: false #是否优雅关闭数据源，默认为false，设置为true时，关闭数据源时如果数据源中还存在活跃连接，至多等待10s后强制关闭
      datasource:
        postgresMaster_1:
          driver-class-name: org.postgresql.Driver
          url: jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/cloud
          username: ${POSTGRES_USER:cloudUserName}
          password: ${POSTGRES_PASSWORD:cloudPassword}
        postgresMaster_2:
          driver-class-name: org.postgresql.Driver
          url: jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/cloud
          username: ${POSTGRES_USER:cloudUserName}
          password: ${POSTGRES_PASSWORD:cloudPassword}
        postgresSlave_1:
          driver-class-name: org.postgresql.Driver
          url: jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/cloud
          username: ${POSTGRES_USER:cloudUserName}
          password: ${POSTGRES_PASSWORD:cloudPassword}
        postgresSlave_2:
          driver-class-name: org.postgresql.Driver
          url: jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/cloud
          username: ${POSTGRES_USER:cloudUserName}
          password: ${POSTGRES_PASSWORD:cloudPassword}
        postgresSlave_3:
          driver-class-name: org.postgresql.Driver
          url: jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/cloud
          username: ${POSTGRES_USER:cloudUserName}
          password: ${POSTGRES_PASSWORD:cloudPassword}
mybatis-plus:
  global-config:
    banner: false
    db-config:
      logic-delete-field: deleted # 全局逻辑删除字段名
      logic-delete-value: 1 # 逻辑已删除值
      logic-not-delete-value: 0 # 逻辑未删除值